"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Track = void 0;
class Track {
    constructor(data) {
        this.data = data;
    }
    getCaptions() {
        const regex = /({"captionTracks":.*isTranslatable":(true|false)}])/;
        const matches = regex.exec(this.data);
        if (!(matches === null || matches === void 0 ? void 0 : matches.length))
            throw new Error(`Could not find captions.`);
        const { captionTracks } = JSON.parse(`${matches[0]}}`);
        return captionTracks;
    }
    getCaptionByLanguage(lang = 'en') {
        const captionTracks = this.getCaptions();
        const sub = captionTracks.find((track) => track.languageCode === lang);
        return sub ? sub : null;
    }
}
exports.Track = Track;
//# sourceMappingURL=track.js.map